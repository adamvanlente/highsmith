var Highsmith=function(e,t){function n(e){return document.getElementById(e)}function r(e,t,n){var r=document.createElement(e);t=t||"";className=t||"";n=n||"";r.id=t;r.className=className;r.innerHTML=n;return r}function v(e){if(n(f)){L()}var t=e.clientX;var r=e.clientY;m();g(t,r)}function m(){if(!a.disableOffClicker){var e=r("div","highsmithCal--offClicker");if(!a.style.disable){e.style.display="block";e.style.position="fixed";e.style.top=0+"px";e.style.left=0+"px";e.style.bottom=0+"px";e.style.right=0+"px";e.style.zIndex="9999"}document.body.appendChild(e);e.addEventListener("click",function(){L()})}}function g(e,t){var n=r("div",f);y(n);b(n);T(n);N(n);n=k(n,e,t);document.body.appendChild(n);C();E();S()}function y(e){var t=a.style.month;var n=r("span","highsmithCal--month");var i=r("label","highsmithCal--month__decrement",a.style.globals.downArrowIcon);var s=r("label","highsmithCal--month__label",u[l]);var o=r("label","highsmithCal--month__increment",a.style.globals.upArrowIcon);i.addEventListener("click",function(){O()});o.addEventListener("click",function(){A()});w(n,s,o,i,t,e)}function b(e){var t=a.style.year;var n=r("span","highsmithCal--year");var i=r("label","highsmithCal--year__decrement",a.style.globals.downArrowIcon);var s=r("label","highsmithCal--year__label",c);var o=r("label","highsmithCal--year__increment",a.style.globals.upArrowIcon);i.addEventListener("click",function(){_()});o.addEventListener("click",function(){M()});w(n,s,o,i,t,e)}function w(e,t,n,r,i,s){if(!a.style.disable){if(i.fontFamily){e.style.fontFamily=i.fontFamily}e.style.fontSize=i.fontSize;e.style.padding=i.padding;e.style.backgroundColor=i.bgColor;e.style.color=i.color;e.style.display="block";r.style.width=i.toggleSize;r.style.height=i.toggleSize;r.style.cursor="pointer";t.style.width=i.labelSize;t.style.display="inline-block";n.style.width=i.toggleSize;n.style.height=i.toggleSize;n.style.cursor="pointer"}e.appendChild(r);e.appendChild(t);e.appendChild(n);s.appendChild(e)}function E(e){if(!n("highsmithCal--resetButton")&&a.resetDateButton){var t=r("span","highsmithCal--resetButton","reset");x(t,P)}}function S(e){if(!n("highsmithCal--killButton")&&a.killButton){var t=r("span","highsmithCal--killButton","remove calendar");x(t,j)}}function x(e,t){if(!a.style.disable){var r=a.style.buttons;e.style.fontSize=r.fontSize;e.style.padding=r.padding;e.style.backgroundColor=r.bgColor;e.style.display="block";e.style.cursor="pointer"}n("highsmithCal").appendChild(e);e.addEventListener("click",t)}function T(e){var t=a.style.days;var n=r("span","highsmithCal--daysLegend");if(!a.style.disable){if(t.fontFamily){n.style.fontFamily=t.fontFamily}n.style.fontSize=t.fontSize;n.style.color=t.color;n.style.backgroundColor=t.legendBgColor;n.style.display="block";n.style.textAlign="left"}var i=["S","M","T","W","Th","F","Sa"];for(var s=0;s<i.length;s++){var o=r("label","highsmithCal--daysLegend__label",i[s]);if(!a.style.disable){o.style.padding=t.padding;o.style.width=t.width;o.style.height=t.height;o.style.color=t.legendColor;o.style.display="inline-block";o.style.textAlign="center"}n.appendChild(o)}e.appendChild(n)}function N(e){var t=a.style.days;var n=r("span","highsmithCal--dayHolder");if(!a.style.disable){n.style.fontSize=t.fontSize;n.style.backgroundColor=t.bgColor;n.style.display="block";n.style.textAlign="left"}e.appendChild(n)}function C(){var e=a.style.days;var t=n("highsmithCal--dayHolder");t.innerHTML="";var i=(new Date(c,l,1)).getDay();for(var s=0;s<i;s++){var o=r("label","highsmithCal--dayHolder__nullLabel");if(!a.style.disable){o.style.padding=e.padding;o.style.width=e.width;o.style.height=e.height;o.style.backgroundColor=e.nullBgColor;o.style.display="inline-block";o.style.textAlign="center";o.style.verticalAlign="top"}t.appendChild(o)}for(var s=0;s<d;s++){var u=s+1;if(h==u&&l==(new Date).getMonth()){u="<b>"+u+"</b>"}var o=r("label","highsmithCal--dayHolder__label",u);if(!a.style.disable){o.style.padding=e.padding;o.style.width=e.width;o.style.height=e.height;o.style.backgroundColor=e.bgColor;o.style.display="inline-block";o.style.textAlign="center";o.style.verticalAlign="top";o.style.cursor="pointer";o.style.transition="all 0.2s";o.addEventListener("mouseenter",function(e){e.target.style.backgroundColor="#DCDCDC"});o.addEventListener("mouseleave",function(e){e.target.style.background="none"})}o.addEventListener("click",B);t.appendChild(o)}}function k(e,t,n){var r=a.style.globals;if(!a.style.disable){e.style.fontFamily=r.fontFamily;e.style.border=r.border;e.style.backgroundColor=r.bgColor;e.style.width=r.width;e.style.borderRadius=r.borderRadius;e.style.display="block";e.style.position="absolute";e.style.zIndex="10000";e.style.top=n+"px";e.style.left=t+"px";e.style.textAlign="center"}return e}function L(){if(n("highsmithCal--offClicker")){n("highsmithCal--offClicker").remove()}if(n(f)){n(f).remove()}}function A(){l++;if(l>u.length-1){l=0;c++}D()}function O(){l--;if(l<0){l=u.length-1;c--}D()}function M(){c++;D()}function _(){c--;D()}function D(){n("highsmithCal--month__label").innerHTML=u[l];n("highsmithCal--year__label").innerHTML=c;C()}function P(){H();D()}function H(){var e=new Date;l=e.getMonth();c=e.getFullYear();h=e.getDate();p=e.getDay();d=(new Date(c,l,0)).getDate()}function B(e){var t=e.target.innerHTML;var n=String(l+1);t=("0"+t).slice(-2);n=("0"+n).slice(-2);var r;if(a.format=="mdy"){r=n+"/"+t+"/"+c}else if(a.format=="ymd"){r=c+"/"+n+"/"+t}else{r=t+"/"+n+"/"+c}i.value=r;i.innerHTML=r;L()}function j(){L();i.removeEventListener("click",v);i.readOnly=false}function F(){console.log(a)}function I(e,t){t=t||a;for(item in e){q(e,item,t)}}function q(e,t,n){if(typeof n[t]!="object"){n[t]=e[t]}else{I(e[t],n[t])}}var i=n(e);i.readOnly=true;var s={format:"mdy",killButton:false,resetDateButton:false,disableOffClicker:false,style:{disable:false,month:{bgColor:"#F1F1F1",color:"#333",fontFamily:false,fontSize:"16px",labelSize:"80%",padding:"4px",toggleSize:"10%"},year:{bgColor:"#F1F1F1",color:"#777",fontFamily:false,fontSize:"14px",labelSize:"60%",padding:"4px",toggleSize:"10%"},days:{bgColor:"#F1F1F1",color:"#333",fontFamily:false,fontSize:"13px",height:"16px",legendBgColor:"#DCDCDC",legendColor:"#333",nullBgColor:"#FAFAFA",padding:"4px",width:"20px"},globals:{fontFamily:"Georgia, serif",bgColor:"#FFFFFF",border:"1px solid #F1F1F1",borderRadius:"2px",downArrowIcon:"&#8672;",upArrowIcon:"&#8674;",width:"200px"},buttons:{fontSize:"12px",padding:"4px"}}};var o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var u=["January","February","March","April","May","June","July","August","September","October","November","December"];var a=s;I(t);var f=i.className?"highsmithCal "+i.className:"highsmithCal";var l,c,h,p,d;Element.prototype.remove=function(){this.parentElement.removeChild(this)};i.addEventListener("click",v,false);H();return{kill:j,showOptions:F,updateOptions:I,removeCalendar:L}}
