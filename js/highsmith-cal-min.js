var Highsmith=function(e,t){function l(e){return document.getElementById(e)}function i(e,t,l){var i=document.createElement(e);return t=t||"",className=t||"",l=l||"",i.id=t,i.className=className,i.innerHTML=l,i}function n(e){l(R)&&b();var t=e.clientX,i=e.clientY;o(),a(t,i)}function o(){if(!H.disableOffClicker){var e=i("div","highsmithCal--offClicker");H.style.disable||(e.style.display="block",e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.bottom="0px",e.style.right="0px",e.style.zIndex="9999"),document.body.appendChild(e),e.addEventListener("click",function(){b()})}}function a(e,t){var l=i("div",R);s(l),r(l),g(l),p(l),l=f(l,e,t),document.body.appendChild(l),u(),y(),h()}function s(e){var t=H.style.month,l=i("span","highsmithCal--month"),n=i("label","highsmithCal--month__decrement",H.style.globals.downArrowIcon),o=i("label","highsmithCal--month__label",B[M]),a=i("label","highsmithCal--month__increment",H.style.globals.upArrowIcon);n.addEventListener("click",function(){C()}),a.addEventListener("click",function(){m()}),d(l,o,a,n,t,e)}function r(e){var t=H.style.year,l=i("span","highsmithCal--year"),n=i("label","highsmithCal--year__decrement",H.style.globals.downArrowIcon),o=i("label","highsmithCal--year__label",I),a=i("label","highsmithCal--year__increment",H.style.globals.upArrowIcon);n.addEventListener("click",function(){k()}),a.addEventListener("click",function(){v()}),d(l,o,a,n,t,e)}function d(e,t,l,i,n,o){H.style.disable||(n.fontFamily&&(e.style.fontFamily=n.fontFamily),e.style.fontSize=n.fontSize,e.style.padding=n.padding,e.style.backgroundColor=n.bgColor,e.style.color=n.color,e.style.display="block",i.style.width=n.toggleSize,i.style.height=n.toggleSize,i.style.cursor="pointer",t.style.width=n.labelSize,t.style.display="inline-block",l.style.width=n.toggleSize,l.style.height=n.toggleSize,l.style.cursor="pointer"),e.appendChild(i),e.appendChild(t),e.appendChild(l),o.appendChild(e)}function y(){if(!l("highsmithCal--resetButton")&&H.resetDateButton){var e=i("span","highsmithCal--resetButton","reset");c(e,x)}}function h(){if(!l("highsmithCal--killButton")&&H.killButton){var e=i("span","highsmithCal--killButton","remove calendar");c(e,z)}}function c(e,t){if(!H.style.disable){var i=H.style.buttons;e.style.fontSize=i.fontSize,e.style.padding=i.padding,e.style.backgroundColor=i.bgColor,e.style.display="block",e.style.cursor="pointer"}l("highsmithCal").appendChild(e),e.addEventListener("click",t)}function g(e){var t=H.style.days,l=i("span","highsmithCal--daysLegend");H.style.disable||(t.fontFamily&&(l.style.fontFamily=t.fontFamily),l.style.fontSize=t.fontSize,l.style.color=t.color,l.style.backgroundColor=t.legendBgColor,l.style.display="block",l.style.textAlign="left");for(var n=["S","M","T","W","Th","F","Sa"],o=0;o<n.length;o++){var a=i("label","highsmithCal--daysLegend__label",n[o]);H.style.disable||(a.style.padding=t.padding,a.style.width=t.width,a.style.height=t.height,a.style.color=t.legendColor,a.style.display="inline-block",a.style.textAlign="center"),l.appendChild(a)}e.appendChild(l)}function p(e){var t=H.style.days,l=i("span","highsmithCal--dayHolder");H.style.disable||(l.style.fontSize=t.fontSize,l.style.backgroundColor=t.bgColor,l.style.display="block",l.style.textAlign="left"),e.appendChild(l)}function u(){var e=H.style.days,t=l("highsmithCal--dayHolder");t.innerHTML="";for(var n=new Date(I,M,1).getDay(),o=0;n>o;o++){var a=i("label","highsmithCal--dayHolder__nullLabel");H.style.disable||(a.style.padding=e.padding,a.style.width=e.width,a.style.height=e.height,a.style.backgroundColor=e.nullBgColor,a.style.display="inline-block",a.style.textAlign="center",a.style.verticalAlign="top"),t.appendChild(a)}for(var o=0;N>o;o++){var s=o+1;T==s&&M==(new Date).getMonth()&&(s="<b>"+s+"</b>");var a=i("label","highsmithCal--dayHolder__label",s);H.style.disable||(a.style.padding=e.padding,a.style.width=e.width,a.style.height=e.height,a.style.backgroundColor=e.bgColor,a.style.display="inline-block",a.style.textAlign="center",a.style.verticalAlign="top",a.style.cursor="pointer",a.style.transition="all 0.2s",a.addEventListener("mouseenter",function(e){e.target.style.backgroundColor="#DCDCDC"}),a.addEventListener("mouseleave",function(e){e.target.style.background="none"})),a.addEventListener("click",S),t.appendChild(a)}}function f(e){var t=H.style.globals,l=D.getBoundingClientRect(),i=l.top+document.body.scrollTop+l.height;return H.style.disable||(e.style.fontFamily=t.fontFamily,e.style.border=t.border,e.style.backgroundColor=t.bgColor,e.style.width=t.width,e.style.borderRadius=t.borderRadius,e.style.display="block",e.style.position="absolute",e.style.zIndex="10000",e.style.top=i+"px",e.style.left=l.left+"px",e.style.textAlign="center"),e}function b(){l("highsmithCal--offClicker")&&l("highsmithCal--offClicker").remove(),l(R)&&l(R).remove()}function m(){M++,M>B.length-1&&(M=0,I++),F()}function C(){M--,0>M&&(M=B.length-1,I--),F()}function v(){I++,F()}function k(){I--,F()}function F(){l("highsmithCal--month__label").innerHTML=B[M],l("highsmithCal--year__label").innerHTML=I,u()}function x(){w(),F()}function w(){var e=new Date;M=e.getMonth(),I=e.getFullYear(),T=e.getDate(),O=e.getDay(),N=new Date(I,M,0).getDate()}function S(e){var t=e.target.innerHTML,l=String(M+1);t=("0"+t).slice(-2),l=("0"+l).slice(-2);var i;i="mdy"==H.format?l+"/"+t+"/"+I:"ymd"==H.format?I+"/"+l+"/"+t:t+"/"+l+"/"+I,D.value=i,D.innerHTML=i,b()}function z(){b(),D.removeEventListener("click",n),D.readOnly=!1}function _(){console.log(H)}function L(e,t){t=t||H;for(item in e)A(e,item,t)}function A(e,t,l){"object"!=typeof l[t]?l[t]=e[t]:L(e[t],l[t])}var D=l(e);D.readOnly=!0;var E={format:"mdy",killButton:!1,resetDateButton:!1,disableOffClicker:!1,style:{disable:!1,month:{bgColor:"#F1F1F1",color:"#333",fontFamily:!1,fontSize:"16px",labelSize:"80%",padding:"4px",toggleSize:"10%"},year:{bgColor:"#F1F1F1",color:"#777",fontFamily:!1,fontSize:"14px",labelSize:"60%",padding:"4px",toggleSize:"10%"},days:{bgColor:"#F1F1F1",color:"#333",fontFamily:!1,fontSize:"13px",height:"16px",legendBgColor:"#DCDCDC",legendColor:"#333",nullBgColor:"#FAFAFA",padding:"4px",width:"20px"},globals:{fontFamily:"Georgia, serif",bgColor:"#FFFFFF",border:"1px solid #F1F1F1",borderRadius:"2px",downArrowIcon:"&#8672;",upArrowIcon:"&#8674;",width:"200px"},buttons:{fontSize:"12px",padding:"4px"}}},B=["January","February","March","April","May","June","July","August","September","October","November","December"],H=E;L(t);var M,I,T,O,N,R=D.className?"highsmithCal "+D.className:"highsmithCal";return Element.prototype.remove=function(){this.parentElement.removeChild(this)},D.addEventListener("click",n,!1),w(),{kill:z,showOptions:_,updateOptions:L,removeCalendar:b}};
