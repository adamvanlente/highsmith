var Highsmith=function(e,t){function i(e){return document.getElementById(e)}function n(e,t,i){var n=document.createElement(e);t=t||"",i=i||"";var l=t||"";return n.id=t,n.className=l,n.innerHTML=i,n}function l(){return M.customDate&&I.value&&""!=I.value?"Invalid Date"==new Date(I.value)?new Date:new Date(I.value):new Date}function o(){i(W)&&m(),a(),r()}function a(){if(!M.disableOffClicker){var e=n("div","highsmithCal--offClicker");if(!M.style.disable){var t={display:"block",position:"fixed",top:"0px",left:"0px",bottom:"0px",right:"0px",zIndex:"9999"};A(e,t)}document.body.appendChild(e),e.addEventListener("click",function(){m()})}}function r(){var e=n("div",W);d(e),s(e),p(e),f(e),e=b(e),document.body.appendChild(e),y(),g(),c()}function d(e){var t=M.style.month,i=n("span","highsmithCal--month"),l=n("label","highsmithCal--month__decrement",M.style.globals.downArrowIcon),o=n("label","highsmithCal--month__label",H[O]),a=n("label","highsmithCal--month__increment",M.style.globals.upArrowIcon);l.addEventListener("click",function(){v()}),a.addEventListener("click",function(){C()}),h(i,o,a,l,t,e)}function s(e){var t=M.style.year,i=n("span","highsmithCal--year"),l=n("label","highsmithCal--year__decrement",M.style.globals.downArrowIcon),o=n("label","highsmithCal--year__label",T),a=n("label","highsmithCal--year__increment",M.style.globals.upArrowIcon);l.addEventListener("click",function(){w()}),a.addEventListener("click",function(){k()}),h(i,o,a,l,t,e)}function h(e,t,i,n,l,o){if(!M.style.disable){var a={fontSize:l.fontSize,padding:l.padding,backgroundColor:l.bgColor,color:l.color,display:"block"},r={width:l.toggleSize,height:l.toggleSize,cursor:"pointer"},d={width:l.toggleSize,height:l.toggleSize,cursor:"pointer"},s={width:l.labelSize,display:"inline-block"};A(t,s),A(n,d),A(i,r),A(e,a)}e.appendChild(n),e.appendChild(t),e.appendChild(i),o.appendChild(e)}function g(){if(!i("highsmithCal--resetButton")&&M.resetDateButton){var e=n("span","highsmithCal--resetButton","reset");u(e,D)}}function c(){if(!i("highsmithCal--killButton")&&M.killButton){var e=n("span","highsmithCal--killButton","remove calendar");u(e,L)}}function u(e,t){var n=M.style.buttons;if(!M.style.disable){var l={fontSize:n.fontSize,padding:n.padding,backgroundColor:n.bgColor,display:"block",cursor:"pointer"};A(e,l)}i("highsmithCal").appendChild(e),e.addEventListener("click",t)}function p(e){var t=M.style.days,i=n("span","highsmithCal--daysLegend");if(!M.style.disable){var l={fontSize:t.fontSize,color:t.color,backgroundColor:t.legendBgColor,display:"block",textAlign:"left"};A(i,l)}for(var o=["S","M","T","W","Th","F","Sa"],a=0;a<o.length;a++){var r=n("label","highsmithCal--daysLegend__label",o[a]);if(!M.style.disable){var l={padding:t.padding,width:t.width,height:t.height,color:t.legendColor,display:"inline-block",textAlign:"center"};A(r,l)}i.appendChild(r)}e.appendChild(i)}function f(e){var t=M.style.days,i=n("span","highsmithCal--dayHolder");if(!M.style.disable){var l={fontSize:t.fontSize,backgroundColor:t.bgColor,display:"block",textAlign:"left"};A(i,l)}e.appendChild(i)}function y(){var e=M.style.days,t=i("highsmithCal--dayHolder");t.innerHTML="";for(var l=new Date(T,O,1).getDay(),o=0;l>o;o++){var a=n("label","highsmithCal--dayHolder__nullLabel");if(!M.style.disable){var r={padding:e.padding,width:e.width,height:e.height,backgroundColor:e.nullBgColor,display:"inline-block",textAlign:"center",verticalAlign:"top"};A(a,r)}t.appendChild(a)}for(var d=new Date(T,O,1),s=new Date(T,O+1,1),h=(s-d)/864e5,g=1;h>=g;g++){var c=new Date(T,O,g),u=c-new Date>0,a=n("label","highsmithCal--dayHolder__label",g);if(!M.style.disable){var r={padding:e.padding,width:e.width,height:e.height,backgroundColor:e.bgColor,display:"inline-block",textAlign:"center",verticalAlign:"top",cursor:"pointer",transition:"all 0.2s"};g==(new Date).getDate()&&O==(new Date).getMonth()&&(r.border="1px solid "+e.color),A(a,r)}M.futureOnly?u?(a.addEventListener("click",z),M.style.disable||(a.addEventListener("mouseenter",function(t){t.target.style.backgroundColor=e.legendBgColor}),a.addEventListener("mouseleave",function(e){e.target.style.background="none"}))):a.style.opacity="0.2":(a.addEventListener("click",z),a.addEventListener("mouseenter",function(t){t.target.style.backgroundColor=e.legendBgColor}),a.addEventListener("mouseleave",function(e){e.target.style.background="none"})),t.appendChild(a)}}function b(e){var t=M.style.globals,i=I.getBoundingClientRect(),n=i.top+document.body.scrollTop+i.height;if(!M.style.disable){var l={fontFamily:t.fontFamily,border:t.border,backgroundColor:t.bgColor,width:t.width,borderRadius:t.borderRadius,display:"block",position:"absolute",zIndex:"10000",top:n+"px",left:i.left+"px",textAlign:"center"};A(e,l)}return e}function m(){i("highsmithCal--offClicker")&&i("highsmithCal--offClicker").remove(),i(W)&&i(W).remove()}function C(){O++,O>H.length-1&&(O=0,T++),x()}function v(){O--,0>O&&(O=H.length-1,T--),x()}function k(){T++,x()}function w(){T--,x()}function x(){i("highsmithCal--month__label").innerHTML=H[O],i("highsmithCal--year__label").innerHTML=T,y()}function D(){S(),x()}function S(){var e=j;O=e.getMonth(),T=e.getFullYear(),N=e.getDate(),R=e.getDay(),J=new Date(T,O,0).getDate()}function z(e){var t=e.target.innerHTML,i=String(O+1);t=("0"+t).slice(-2),i=("0"+i).slice(-2);var n;n="mdy"==M.format?i+"/"+t+"/"+T:"ymd"==M.format?T+"/"+i+"/"+t:t+"/"+i+"/"+T,I.value=n,I.innerHTML=n,m()}function L(){m(),I.removeEventListener("click",o),I.readOnly=!1}function _(){console.log(M)}function E(e,t){t=t||M;for(item in e)F(e,item,t)}function F(e,t,i){"object"!=typeof i[t]?i[t]=e[t]:E(e[t],i[t])}function A(e,t){for(opt in t)e.s(opt,t[opt])}var B={ltGray:"#F1F1F1",gray:"#DCDCDC",mdGray:"rgb(202, 201, 201)",dkGray:"#333333",white:"#FFFFFF"},G={format:"mdy",customDate:!1,killButton:!1,resetDateButton:!1,disableOffClicker:!1,futureOnly:!1,style:{disable:!1,month:{bgColor:B.ltGray,color:B.dkGray,fontFamily:"Georgia, serif",fontSize:"16px",labelSize:"80%",padding:"4px",toggleSize:"10%"},year:{bgColor:B.ltGray,color:B.dkGray,fontFamily:"Georgia, serif",fontSize:"14px",labelSize:"60%",padding:"4px",toggleSize:"10%"},days:{bgColor:B.ltGray,color:B.dkGray,fontFamily:"Georgia, serif",fontSize:"13px",height:"16px",legendBgColor:B.gray,legendColor:B.dkGray,nullBgColor:B.mdGray,padding:"4px",width:"20px"},globals:{fontFamily:"Georgia, serif",bgColor:B.white,border:"1px solid "+B.ltGray,borderRadius:"2px",downArrowIcon:"&#8672;",upArrowIcon:"&#8674;",width:"200px"},buttons:{fontSize:"12px",padding:"4px"}}},H=["January","February","March","April","May","June","July","August","September","October","November","December"],M=G;E(t);var I=i(e);I.readOnly=!0;var O,T,N,R,J,j=l(),W=I.className?"highsmithCal "+I.className:"highsmithCal";return Element.prototype.remove=function(){this.parentElement.removeChild(this)},Element.prototype.s=function(e,t){this.style[e]=t},I.addEventListener("click",o,!1),S(),{kill:L,showOptions:_,updateOptions:E,removeCalendar:m}};
